<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>fcmconfr_Example • fcmconfr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="fcmconfr_Example">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fcmconfr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/fcmconfr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/fcmconfr_example.html">fcmconfr_Example</a></li>
    <li><a class="dropdown-item" href="../articles/Importing_FCMs.html">Importing_FCMs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bhroston/fcmconfr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>fcmconfr_Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bhroston/fcmconfr/blob/main/vignettes/fcmconfr_example.Rmd" class="external-link"><code>vignettes/fcmconfr_example.Rmd</code></a></small>
      <div class="d-none name"><code>fcmconfr_example.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bhroston/fcmconfr" class="external-link">fcmconfr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="problem-setup-and-description">Problem Setup and Description<a class="anchor" aria-label="anchor" href="#problem-setup-and-description"></a>
</h2>
<p>It is a common practice when working with stakeholder FCMs to group
FCMs in like clusters prior to aggregating them to generate broader,
population-scale results.</p>
<p>Let’s walkthrough how <code>fcmconfr</code> can both streamline and
expand upon this type of analysis using conventional FCMs from the
<code>sample_fcms</code> data set included in the package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stkhldr_fcms</span> <span class="op">&lt;-</span> <span class="va">sample_fcms</span><span class="op">$</span><span class="va">simple_fcms</span><span class="op">$</span><span class="va">conventional_fcms</span></span></code></pre></div>
<p>Note: The steps to perform this analysis are the same for IVFN/TFN
FCMs, with differences in importing adjacency matrices into R and the
type of data given in the final output (i.e. IVFNs or TFNs)</p>
<p><code>stkhldr_fcms</code> is a list of 30 FCM adjacency matrices
representing different perspectives on how rising salinization in a
reservoir impacts a community and its surroundings as well as what
actions may help manage the problem.</p>
<div class="section level3">
<h3 id="aggregation-approach">Aggregation Approach<a class="anchor" aria-label="anchor" href="#aggregation-approach"></a>
</h3>
<p>Suppose that prior to using <code>fcmconfr</code> we performed a
Principal Component Analysis (PCA) that identified four clusters of
similar FCMs. We could then either manually or with
<code>fcmconfr</code> calculate the aggregate FCM by aggregating the
cluster aggregates. The figure below illustrates this process.</p>
<div style="text-align: center;">
<p><img src="images%2Faggregation_approach_diagram.png" style="width:85.0%"></p>
</div>
<p><br></p>
<p>A limitation of this analysis is that it cannot propagate error
throughout each additional level of aggregation, so there is no way to
estimate the precision of the true aggregate’s edge weights.
Additionally, without the ability to infer confidence intervals, we
cannot understand how well this aggregate model describes the
possibility space generated from the 30 unique input models.</p>
</div>
<div class="section level3">
<h3 id="monte-carlo-approach">Monte Carlo Approach<a class="anchor" aria-label="anchor" href="#monte-carlo-approach"></a>
</h3>
<p>Using the monte-carlo sampling capability of <code>fcmconfr</code> we
can try a different approach. Again, use PCA or a similar analysis to
identify clusters of like FCMs. Then, use <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> to
generate (N) maps representative of each cluster’s possibility space by
sampling edges and their weights from FCMs within the cluster. Combine
these newly created empirical, monte-carlo-generated FCMs into a list
object with each cluster represented with the same number (N) of entries
(Num. FCMs = Num Clusters * N). Finally, pass this list into the
<code>fcmconfr</code> function. The following figure illustrates this
expanded process.</p>
<div style="text-align: center;">
<p><img src="images%2Fmonte_carlo_approach_diagram.png" style="width:86.0%"></p>
</div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="using-fcmconfr">Using <code>fcmconfr</code><a class="anchor" aria-label="anchor" href="#using-fcmconfr"></a>
</h3>
<p>Let’s see how <code>fcmconfr</code> lets us perform not just the
monte-carlo approach but also compare how the results from the two
approaches with just a few function calls.</p>
<p>First, let’s assume the given information about the relevant clusters
and which FCMs are included in each.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cluster_1_fcms</span> <span class="op">&lt;-</span> <span class="va">stkhldr_fcms</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">11</span>, <span class="fl">18</span>, <span class="fl">22</span>, <span class="fl">28</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">cluster_2_fcms</span> <span class="op">&lt;-</span> <span class="va">stkhldr_fcms</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">13</span>, <span class="fl">14</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">24</span>, <span class="fl">26</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">cluster_3_fcms</span> <span class="op">&lt;-</span> <span class="va">stkhldr_fcms</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">21</span>, <span class="fl">23</span>, <span class="fl">27</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">cluster_4_fcms</span> <span class="op">&lt;-</span> <span class="va">stkhldr_fcms</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">12</span>, <span class="fl">16</span>, <span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">25</span>, <span class="fl">29</span>, <span class="fl">30</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p>Next we’ll need to consider our simulation options, mainly, which
concept or node should we “push” to see how how that particular concept
influences the system as represented across these FCMs. There are 7
concepts representing different actions, causes, and factors affected in
relation to the central concept of salinization of the reservoir. Say we
are considering how two different actions,
Guidance.Docs.for.Salt.Management and Public.Education.Programs, may
influence the system based on our stakeholders perspectives. We will
need to “push” these two variables in two separate calls to
<code><a href="../reference/fcmconfr.html">fcmconfr()</a></code>.</p>
<table class="table"><tbody>
<tr class="odd">
<td>Action</td>
<td>Guidance.Docs.for.Salt.Management</td>
</tr>
<tr class="even">
<td>Action</td>
<td>Public.Education.Programs</td>
</tr>
<tr class="odd">
<td>Cause</td>
<td>Salts.Added.during.Water.Treatment</td>
</tr>
<tr class="even">
<td>Cause</td>
<td>Salts.Added.by.Winter.Maintenance.Activities</td>
</tr>
<tr class="odd">
<td>Factor Affected</td>
<td>Ecosystem.Health</td>
</tr>
<tr class="even">
<td>Factor Affected</td>
<td>Public.Awareness.of.Reservoir.Salinization</td>
</tr>
<tr class="odd">
<td>Central Concept</td>
<td>Salinization.of.the.Reservoir</td>
</tr>
</tbody></table>
<div class="section level4">
<h4 id="the-aggregation-approach-with-fcmconfr">The Aggregation Approach with fcmconfr<a class="anchor" aria-label="anchor" href="#the-aggregation-approach-with-fcmconfr"></a>
</h4>
<p>After loading the FCM cluster lists into the Global Environment we
can call <code>fcmconfr_gui</code> to create our call to the
<code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> to help select our nodes to test and the many
other inputs to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code>. Call
<code><a href="../reference/fcmconfr_gui.html">fcmconfr_gui()</a></code> by itself to launch the help gui as
displayed in the following figure.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fcmconfr_gui.html">fcmconfr_gui</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fcluster_1_fcmconfr_gui.png" style="width:100.0%" alt="After selecting cluster_1_fcms as the List of Adj. Matrices, switch to the Clamping Vector tab displayed as displayed in the figure and set the value for Guidance.Docs.for.Salt.Management to 1."><div class="figcaption">After selecting <code>cluster_1_fcms</code> as
the List of Adj. Matrices, switch to the Clamping Vector tab displayed
as displayed in the figure and set the value for
Guidance.Docs.for.Salt.Management to 1.</div>
</div>
</div>
<p><br></p>
<p>For the Aggregate approach, under the Agg. and Monte Carlo Opts tab,
leave the Aggregation Analysis box checked and remove the check from the
box for Monte Carlo Analysis. Likewise, for the Monte Carlo approach,
remove the check from the Aggregation Analysis box and make sure the
Monte Carlo Analysis box is checked instead.</p>
<p>In the Simulation Options tab we can select our parameters for the
actual simulations of our FCM models. These parameters are described in
greater detail throughout the FCM literature and are not described here,
though definitions are given in the gui via a side tab accessible by
clicking the arrow in the gui’s top-right corner.</p>
<p>For this example, set the Activation Function to Rescale and leave
the rest of the parameters as they are. The defaults are typical values
used in practice. <code>fcmconfr</code> will suggest changes to these if
any are influencing the analysis enought to warrant further
attention.</p>
<p>Finally, the Runtime Options tab lets users select whether they want
to leverage their local machine’s parallel processing capabilities and
whether to show the function’s progress during runtime.
<code>fcmconfr</code> can take anywhere from seconds to minutes to half
an hour and more given a complicated enough input. These options have NO
impact on results and ONLY influence the runtime length and what users
see from the console while <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> is running.</p>
<p>Once finished, click Submit at the bottom of the gui. This will
output a call to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> with the selected inputs in the
console that users can copy-and-paste into a separate file and run. For
example, the fcmconfr_gui output described here returns:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_1_fcms</span>,</span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In another file, we copy-and-paste the call to
<code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> and ascribe it to a variable
<code>cluster_1_fcmconfr</code>. We then copy-and-paste that the
<code>cluster_1_fcmconfr</code> call to create separate
<code>cluster_2_fcmconfr</code> , <code>cluster_3_fcmconfr</code>, and
<code>cluster_4_fcmconfr</code> calls. Note that the ONLY difference in
calls is the <code>adj_matrices</code> parameter is changed to reflect
the particular cluster.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cluster_1_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_1_fcms</span>, <span class="co"># ONLY CHANGE THIS PARAM</span></span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_2_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_2_fcms</span>, <span class="co"># ONLY CHANGE THIS PARAM</span></span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_3_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_3_fcms</span>, <span class="co"># ONLY CHANGE THIS PARAM</span></span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_4_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_4_fcms</span>, <span class="co"># ONLY CHANGE THIS PARAM</span></span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>For this step, we are only interested in the aggregate adjacency
matrices from each cluster which is stored as:
<code>fcmconfr_obj$aggregate_adj_matrix$adj_matrix</code> . Using
<code>lapply</code> we can easily get the adjacency matrices from each
cluster.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get aggregate adj. matrix from a single fcmconfr output</span></span>
<span><span class="va">cluster_1_aggregate_fcm</span> <span class="op">&lt;-</span> <span class="va">cluster_1_fcmconfr</span><span class="op">$</span><span class="va">aggregate_adj_matrix</span><span class="op">$</span><span class="va">adj_matrix</span></span>
<span></span>
<span><span class="co"># Get a list of aggregate adj. matrices from multiple fcmconfr outputs</span></span>
<span><span class="co"># Notice the fcmconfr outputs are grouped in a call to list(), NOT c()</span></span>
<span><span class="va">cluster_aggregate_fcms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">cluster_1_fcmconfr</span>, <span class="va">cluster_2_fcmconfr</span>, <span class="va">cluster_3_fcmconfr</span>, <span class="va">cluster_4_fcmconfr</span><span class="op">)</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">fcmconfr_obj</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">fcmconfr_obj</span><span class="op">$</span><span class="va">aggregate_adj_matrix</span><span class="op">$</span><span class="va">adj_matrix</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Then, using nearly the same <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> code we used
above, copy-and-paste that code again but this time set the
<code>adj_matrices</code> parameter to the newly-created
<code>cluster_aggregate_fcms</code> object:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cluster_aggregate_fcms_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_aggregate_fcms</span>, <span class="co"># ONLY CHANGE THIS PARAM</span></span>
<span>  <span class="co"># Aggregation</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Use <code>plot(cluster_aggreagate_fcms_fcmconfr)</code> to view the
results of the Aggregate approach. Then, repeat by first calling
<code>fcmconfr_gui</code> again and, under the Clamping Vector tab,
setting Public.Education.Programs to 1 and leaving
Guidance.Docs.for.Salt.Management at 0. The plots for both analyses are
given below.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cluster_aggregate_fcms_fcmconfr</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<p><img src="images%2Faggregate_approach_plot.png" style="width:100.0%"></p>
</div>
<p><br></p>
</div>
<div class="section level4">
<h4 id="the-monte-carlo-approach-with-fcmconfr">The Monte Carlo Approach with fcmconfr<a class="anchor" aria-label="anchor" href="#the-monte-carlo-approach-with-fcmconfr"></a>
</h4>
<p>As <code>fcmconfr</code> is designed to run both aggregation and
monte carlo analyses, performing the Monte Carlo approach is very
similar to the Aggregation approach but with a few key differences.</p>
<p>After loading the FCM cluster lists into the Global Environment we
can call <code>fcmconfr_gui</code> to create our call to the
<code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> to help select our nodes to test and the many
other inputs to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code>. Call
<code><a href="../reference/fcmconfr_gui.html">fcmconfr_gui()</a></code> by itself to launch the help gui as
displayed in the following figure.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fcmconfr_gui.html">fcmconfr_gui</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fcluster_1_fcmconfr_gui.png" style="width:100.0%" alt="After selecting cluster_1_fcms as the List of Adj. Matrices, switch to the Clamping Vector tab displayed as displayed in the figure and set the value for Guidance.Docs.for.Salt.Management to 1."><div class="figcaption">After selecting cluster_1_fcms as the List of
Adj. Matrices, switch to the Clamping Vector tab displayed as displayed
in the figure and set the value for Guidance.Docs.for.Salt.Management to
1.</div>
</div>
</div>
<p><br></p>
<p>For the Monte Carlo approach, remove the check from the Aggregation
Analysis box and make sure the Monte Carlo Analysis box is checked
instead.</p>
<p>There are additional parameters to define under the Monte Carlo and
Bootstrap sections. Reduce the # Sample Maps to Generate to 100 or
something smaller for this example to reduce the runtime and load on
your machine. Understand, though, that in practice the # Sample Maps to
Generate should be at least 1000.</p>
<p>The rest of the defaults will be appropriate for this example, but
users with experience in monte carlo and bootstrapping methods should
feel free to play with these values.</p>
<div style="text-align: center;">
<p><img src="images%2Fmc_opts_gui.png" style="width:90.0%"></p>
</div>
<p><br></p>
<p>In the Simulation Options tab we can select our parameters for the
actual simulations of our FCM models. These parameters are described in
greater detail throughout the FCM literature and are not described here,
though definitions are given in the gui via a side tab accessible by
clicking the arrow in the gui’s top-right corner.</p>
<p>The Runtime Options tab lets users select whether they want to
leverage their local machine’s parallel processing capabilities and
whether to show the function’s progress during runtime.
<code>fcmconfr</code> can take anywhere from seconds to minutes to half
an hour and more given a complicated enough input. These options have NO
impact on results and ONLY influence the runtime length and what users
see from the console while <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> is running.</p>
<p>Once finished, click Submit at the bottom of the gui. This will
output a call to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> with the selected inputs in the
console that users can copy-and-paste into a separate file and run. For
example, the fcmconfr_gui output described here returns:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_1_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">100</span>, <span class="co"># New param for Monte Carlo</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In another file, we copy-and-paste the call to
<code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> and ascribe it to a variable
<code>cluster_1_fcmconfr</code>. We then copy-and-paste that the
<code>cluster_1_fcmconfr</code> call to create separate
<code>cluster_2_fcmconfr</code> , <code>cluster_3_fcmconfr</code>, and
<code>cluster_4_fcmconfr</code> calls. Note that the ONLY difference in
calls is the <code>adj_matrices</code> parameter is changed to reflect
the particular cluster.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cluster_1_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_1_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">100</span>, <span class="co"># New param for Monte Carlo</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_2_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_2_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">100</span>, <span class="co"># New param for Monte Carlo</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_3_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_3_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">100</span>, <span class="co"># New param for Monte Carlo</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cluster_4_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">cluster_4_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">100</span>, <span class="co"># New param for Monte Carlo</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>, <span class="co"># New param for Bootstrap</span></span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Now, rather than look at the aggregates for each cluster’s
<code>fcmconfr</code> output, we want to get the empirical adjacency
matrices generated via monte carlo sampling. Empirical adjacency
matrices are stored at <code>fcmconfr_obj$mc_adj_matrices</code></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get monte carlo adj. matrices from a single fcmconfr output</span></span>
<span><span class="va">cluster_1_mc_fcms</span> <span class="op">&lt;-</span> <span class="va">cluster_1_fcmconfr</span><span class="op">$</span><span class="va">mc_adj_matrices</span></span>
<span></span>
<span><span class="co"># Get a list of monte carlo adj. matrices from multiple fcmconfr outputs</span></span>
<span><span class="co"># Notice the fcmconfr outputs are grouped in a call to list(), NOT c()</span></span>
<span><span class="va">all_clusters_mc_fcms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">c</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">cluster_1_fcmconfr</span>, <span class="va">cluster_2_fcmconfr</span>, <span class="va">cluster_3_fcmconfr</span>, <span class="va">cluster_4_fcmconfr</span><span class="op">)</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">fcmconfr_obj</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">fcmconfr_obj</span><span class="op">$</span><span class="va">mc_adj_matrices</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Then, using nearly the same <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> code we used
above, copy-and-paste that code again but this time set the
<code>adj_matrices</code> parameter to the newly-created
<code>cluster_mc_fcms</code> object. Also, the <code>num_mc_fcms</code>
param needs to be at least double the number of input adjacency
matrices.</p>
<p>Since at this point we’re up to 400 input adjacency matrices,
<code>num_mc_fcms</code> should be at least 800, but remember in
practice we would have generated 1000 monte carlo FCMs for each cluster
meaning this next step may need <code>num_mc_fcms = 8000</code> or
greater! This is where parallel processing can become particularly
useful. We can remove the check from the Include MC Sims in Output? to
reduce the size of the output.</p>
<p>Rerun <code><a href="../reference/fcmconfr_gui.html">fcmconfr_gui()</a></code> to change the
<code>num_mc_fcm</code> parameter (# Sample Maps to Generate in the gui)
and parallel processing options (or edit code manually if
comfortable).</p>
<p>Run the revised call to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> with empirical FCMs
from each cluster. This might take a few minutes (maybe even more than a
few minutes). Note: Pair <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code> with the
<code>beepr</code> package to have your machine make a noise when it is
finished.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_clusters_mc_fcms_fcmconfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">all_clusters_mc_fcms</span>,</span>
<span>  <span class="co"># Monte Carlo Sampling</span></span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">800</span>, <span class="co"># This needs to be AT LEAST DOUBLE length(all_clusters_mc_fcms)</span></span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Use <code>plot(all_clusters_mc_fcms_fcmconfr)</code> to view the
results of the Monte Carlo approach. Then, repeat by first calling
<code>fcmconfr_gui</code> again and, under the Clamping Vector tab,
setting Public.Education.Programs to 1 and leaving
Guidance.Docs.for.Salt.Management at 0. The plots for both analyses are
given below.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">all_clusters_mc_fcms_fcmconfr</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.4</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<p><img src="images%2Fmc_approach_plot_messy.png" style="width:100.0%"></p>
</div>
<p><br></p>
<p>Note how the individual FCMs estimate data take up a lot of the
figure. Plot takes some additional arguments to help out with situations
like these. See the plotting section later on in this article for more
information. For now, we’ll just play with arguments that will help with
this current plot.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">all_clusters_mc_fcms_fcmconfr</span>,</span>
<span>     <span class="co"># Plot Formatting Parameters</span></span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.4</span>, <span class="fl">0.4</span><span class="op">)</span>,</span>
<span>     <span class="co"># Plot Aesthetic Parameters</span></span>
<span>     ind_inferences_alpha <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>     ind_inferences_shape <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<p><img src="images%2Fmc_approach_plot_clean.png" style="width:100.0%"></p>
</div>
<p><br></p>
</div>
</div>
<div class="section level3">
<h3 id="the-fcmconfr-approach">The <code>fcmconfr</code> Approach<a class="anchor" aria-label="anchor" href="#the-fcmconfr-approach"></a>
</h3>
<p>The above example walks through how to use <code>fcmconfr</code> to
sample from the possibility spaces of various clusters of FCMs. Part of
the inspiration for the two-level aggregation method is to return
estimates that better represent the possibility space of the input FCMs
given the lacking ability to propogate error (i.e. lacking
precision).</p>
<p>By sampling from the input FCMs directly to generate empirical
Monte-Carlo FCMs, <code>fcmconfr</code> can estimate confidence
intervals, and thus potential error, at the group level in a single
function call (see figure below).</p>
<div style="text-align: center;">
<p><img src="images%2Ffcmconfr_method_diagram.png" style="width:100.0%"></p>
</div>
<p><br></p>
<p>Call <code><a href="../reference/fcmconfr_gui.html">fcmconfr_gui()</a></code>, but this time select the raw
<code>stkhldr_fcms</code> list of adjacency matrices and leave both the
Aggregation Analysis and Monte Carlo Analysis boxes checked. Using
Rescale again for the Squashing Function (Simulation Options) and
setting the Clamping Vector value for Guidance.Docs.for.Salt.Management
to 1 (or Public.Education.Programs for comparative analysis), generate a
new call to <code><a href="../reference/fcmconfr.html">fcmconfr()</a></code></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Scenario: Guidance.Docs.for.Salt.Management</span></span>
<span><span class="va">stkhldr_fcms_fcmconfr_guidance_docs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">stkhldr_fcms</span>,</span>
<span>  <span class="co"># Aggregation and Monte Carlo Sampling</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Scenario: Public.Education.Programs</span></span>
<span><span class="va">stkhldr_fcms_fcmconfr_education</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcmconfr.html">fcmconfr</a></span><span class="op">(</span></span>
<span>  adj_matrices <span class="op">=</span> <span class="va">stkhldr_fcms</span>,</span>
<span>  <span class="co"># Aggregation and Monte Carlo Sampling</span></span>
<span>  agg_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  num_mc_fcms <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="co"># Simulation</span></span>
<span>  initial_state_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  clamping_vector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  activation <span class="op">=</span> <span class="st">'rescale'</span>,</span>
<span>  squashing <span class="op">=</span> <span class="st">'sigmoid'</span>,</span>
<span>  lambda <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  point_of_inference <span class="op">=</span> <span class="st">'final'</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  min_error <span class="op">=</span> <span class="fl">1e-05</span>,</span>
<span>  <span class="co"># Inference Estimation (bootstrap)</span></span>
<span>  ci_centering_function <span class="op">=</span> <span class="st">'mean'</span>,</span>
<span>  confidence_interval <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  num_ci_bootstraps <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="co"># Runtime Options</span></span>
<span>  show_progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="co"># Additional Options</span></span>
<span>  run_agg_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_mc_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  run_ci_calcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_zeroes_in_sampling <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mc_sims_in_output <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Then, view the outputs using <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> and set
<code>xlim = c(-0.5, 0.5)</code> to compare the results more evenly
across plots.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">stkhldr_fcms_fcmconfr_guidance_docs</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">stkhldr_fcms_fcmconfr_education</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<p><img src="images%2Ffcmconfr_approach_plot.png" style="width:100.0%"></p>
</div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="a-note-on-plotting">A Note on Plotting<a class="anchor" aria-label="anchor" href="#a-note-on-plotting"></a>
</h3>
<p><code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> is a versatile function in R in that it works
differently depending on the type of input or what package is calling
it. To view the documentation for the version of <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
used for <code>fcmconfr</code> output objects, type
<code><a href="../reference/plot.fcmconfr.html">?plot.fcmconfr</a></code> into the console.</p>
<p><code><a href="../reference/plot.fcmconfr.html">plot.fcmconfr()</a></code> takes many additional inputs, the
defaults of which are given below. This is what <code>plot</code> calls
if passed only an <code>fcmconfr</code> output object without any
additional parameters.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot Defaults</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fcmconfr_obj</span>,</span>
<span>     interactive <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Set to TRUE to open shiny app</span></span>
<span>     <span class="co"># Plot Formatting Parameters</span></span>
<span>     filter_limit <span class="op">=</span> <span class="fl">1e-4</span>,</span>
<span>     xlim <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># Accepts c(lower_limit, upper_limit) inputs</span></span>
<span>     coord_flip <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>     <span class="co"># Plot Aesthetic Parameters</span></span>
<span>     mc_avg_and_CIs_color <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>     mc_inferences_color <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>     mc_inferences_alpha <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>     mc_inferences_shape <span class="op">=</span> <span class="fl">3</span>,</span>
<span>     ind_inferences_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>     ind_inferences_alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>     ind_inferences_shape <span class="op">=</span> <span class="fl">16</span>,</span>
<span>     agg_inferences_color <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>     agg_inferences_alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>     agg_inferences_shape <span class="op">=</span> <span class="fl">17</span>,</span>
<span>     ind_ivfn_and_tfn_linewidth <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>     agg_ivfn_and_tfn_linewidth <span class="op">=</span> <span class="fl">0.6</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>A majority of these parameters describe how points from different
analyses are plotted. Any or all of these parameters can be included in
a call to <code>plot</code> when plotting <code>fcmconfr</code> output
objects. Alpha changes the point transparency with 1 being opaque and 0
being completely transparent.</p>
<p>Notice the <code>interactive</code> parameter. Include
<code>interactive = TRUE</code> to launch the plot inside a shiny app to
toggle the results from different analyses on/off. This is a great
option for exploring early results. (You may need to play with the text
font size in the app to get a better view of the axis labels).</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">stkhldr_fcms_fcmconfr_guidance_docs</span>,</span>
<span>     interactive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<p><img src="images%2Finteractive_plot_gui.png" style="width:100.0%"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Roston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
