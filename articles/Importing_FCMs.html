<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Importing_FCMs • fcmconfr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Importing_FCMs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fcmconfr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/fcmconfr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/fcmconfr_example.html">fcmconfr_Example</a></li>
    <li><a class="dropdown-item" href="../articles/Importing_FCMs.html">Importing_FCMs</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bhroston/fcmconfr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Importing_FCMs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bhroston/fcmconfr/blob/main/vignettes/Importing_FCMs.Rmd" class="external-link"><code>vignettes/Importing_FCMs.Rmd</code></a></small>
      <div class="d-none name"><code>Importing_FCMs.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bhroston/fcmconfr" class="external-link">fcmconfr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="loading-fcms-into-r-for-fcmconfr">Loading FCMs into R for fcmconfr<a class="anchor" aria-label="anchor" href="#loading-fcms-into-r-for-fcmconfr"></a>
</h2>
<p>Imagine asking a stakeholder to provide a weight for the edge (link)
connecting <em>Sunscreen Application</em> to <em>Likelihood of
Sunburn</em>. In the conventional FCM framework (like that implemented
by <a href="https://www.mentalmodeler.com/" class="external-link">MentalModeler</a> , a
popular FCM construction and analysis application) edge weights are
weighted with individual values. So, in the example, a stakeholder may
weight the edge connecting <em>Sunscreen Application</em> to
<em>Likelihood of Sunburn</em> as -0.4 or -0.5, or - 0.6 or any other
value that broadly describes that as <em>Sunscreen Application</em>
increases they expect the <em>Likelihood of Sunburn</em> to decrease
some amount.</p>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fsunscreen_sunburn_fcm.png" style="width:100.0%" alt="A simple FCM describing the influence of Sunscreen Application on the Likelihood of Sunburn. The negative arrow indicates that this is a balancing relationship such that as Sunscreen Application increases, the Likelihood of Sunburn decreases and vice versa."><div class="figcaption">A simple FCM describing the influence of
<em>Sunscreen Application</em> on the <em>Likelihood of Sunburn</em>.
The negative arrow indicates that this is a balancing relationship such
that as <em>Sunscreen Application</em> increases, the <em>Likelihood of
Sunburn</em> decreases and vice versa.</div>
</div>
</div>
<p><br></p>
<p>A limitation of requiring the stakeholder to assign the edge weight a
single value that they may not feel comfortable describing the
connection with such precision. Rather than saying an edge weight may be
either -0.4 or -0.5 or -0.6, they may prefer describing an edge weight
with a range of values (e.g. somewhere between -0.4 and -0.6).</p>
<p>FCMs may describe these edge weights using Interval-Value Fuzzy
Numbers (IVFNs) which are defined by two values, the minimum and maximum
value of an interval (e.g. [-0.6, -0.4]. Further, they may feel
confident enough to suggest an edge may exist within some range but is
more likely to be a particular value within that range. These edge
weights may be described using minimum and maximum bounds of a range and
a mode value describing the most likely value (i.e. mode) the edge
weight could take.</p>
<p>The figure below illustrates conventional numeric edge weights,
IVFNs, and TFNs as probability density functions (PDFs). Note how the
PDF for an IVFN can be described completely with only a lower and upper
bound, while the pdf for a TFN includes an additional mode parameter to
describe the most likely value of the distribution.</p>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fedge_weight_value_type_pdfs.png" style="width:100.0%" alt="FCMs with edge weights described with individual values, IVFNs, or TFNs can be analyzed by fcmconfr."><div class="figcaption">FCMs with edge weights described with individual
values, IVFNs, or TFNs can be analyzed by <code>fcmconfr</code>.</div>
</div>
</div>
<div class="section level3">
<h3 id="conventional-fcms">1. Conventional FCMs<a class="anchor" aria-label="anchor" href="#conventional-fcms"></a>
</h3>
<p>Conventional FCMs use individual numeric values as edge weights. The
below examples show how to load these FCMs from .xlsx files, but a
similar process is used for .csv, .xml or other file types.</p>
<p>Note: Use <code><a href="https://rdrr.io/r/base/file.choose.html" class="external-link">file.choose()</a></code> to get the path to a file
interactively. There is not a similar function to get the path to a
directory, but users may extrapolate from the output of
<code><a href="https://rdrr.io/r/base/file.choose.html" class="external-link">file.choose()</a></code> as needed.</p>
<div class="section level5">
<h5 id="conventional-fcm-from-a-single--xlsx-file">1.1 - Conventional FCM from a Single .xlsx File<a class="anchor" aria-label="anchor" href="#conventional-fcm-from-a-single--xlsx-file"></a>
</h5>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For an individual FCM adjacency matrix</span></span>
<span><span class="va">adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="conventional-fcms-from-different-sheets-in-a-single--xlsx-file">1.1 - Conventional FCMs from Different Sheets in a Single .xlsx
File<a class="anchor" aria-label="anchor" href="#conventional-fcms-from-different-sheets-in-a-single--xlsx-file"></a>
</h5>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For multiple FCM adjacency matrices stored in different sheets in the same .xlsx file</span></span>
<span><span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">excel_sheets</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span><span class="va">adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">sheets</span>, </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">sheet</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span>, sheet <span class="op">=</span> <span class="va">sheet</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="conventional-fcms-from--xlsx-files-in-a-directory">1.2 - Conventional FCMs from .xlsx Files in a Directory<a class="anchor" aria-label="anchor" href="#conventional-fcms-from--xlsx-files-in-a-directory"></a>
</h5>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For multiple FCM adjacency matrices stored in separate .xlsx files stored in the</span></span>
<span><span class="co"># same directory</span></span>
<span><span class="va">filepaths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">filepaths</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="ivfn-fcms">2. IVFN FCMs<a class="anchor" aria-label="anchor" href="#ivfn-fcms"></a>
</h3>
<p>IVFN FCMs are more complicated data objects because edge weights are
described by two values (an upper and lower bound) but common file
formats like .xlsx and .csv can only store one value per cell (or
similar for .csv and others).</p>
<div class="section level5">
<h5 id="using-make_adj_matrix_w_ivfns">2.1 - Using <code>make_adj_matrix_w_ivfns</code><a class="anchor" aria-label="anchor" href="#using-make_adj_matrix_w_ivfns"></a>
</h5>
<p>We recommend creating an IVFN FCM from two adjacency matrices, one
with edge weights as the intended lower bounds and one with edge weights
as the intended upper bounds. Then, use
<code>make_adj_matrix_w_ivfns</code> to construct an IVFN FCM adjacency
matrix.</p>
<div class="section level6">
<h6 id="make_adj_matrix_w_ivfns-from-a-single--xlsx--file">2.1.1 - <code>make_adj_matrix_w_ivfns</code> from a Single .xlsx.
File<a class="anchor" aria-label="anchor" href="#make_adj_matrix_w_ivfns-from-a-single--xlsx--file"></a>
</h6>
<p>If loading an IVFN FCM from a single .xlsx file, the file must
contain two sheets, one for the lower bounds adjacency matrix and one
for the upper bounds adjacency matrix.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">excel_sheets</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># If lower and upper adjacency matrices are in the same .xlsx file across two different sheets</span></span>
<span><span class="va">lower_and_upper_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">sheets</span>, </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">sheet</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span>, sheet <span class="op">=</span> <span class="va">sheet</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="va">lower_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="va">lower_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">ivfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_ivfns.html">make_adj_matrix_w_ivfns</a></span><span class="op">(</span><span class="va">lower_adj_matrix</span>, <span class="va">upper_adj_matrix</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="make_adj_matrix_from_ivfns-from-separate--xlsx-files-in-the-same-directory">2.1.2 - <code>make_adj_matrix_from_ivfns</code> from Separate .xlsx
Files in the Same Directory<a class="anchor" aria-label="anchor" href="#make_adj_matrix_from_ivfns-from-separate--xlsx-files-in-the-same-directory"></a>
</h6>
<p>Use this method if loading data from separate .csv, .xml, etc., files
that by nature cannot contain multiple sheets in the same file.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If lower and upper adjacency matrices are in separate .xlsx files</span></span>
<span><span class="va">lower_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="st">"fcm_1_lower.xlsx"</span><span class="op">)</span> <span class="co"># Your filename here</span></span>
<span><span class="va">upper_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="st">"fcm_1_upper.xlsx"</span><span class="op">)</span> <span class="co"># Your filename here</span></span>
<span></span>
<span><span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span><span class="op">)</span></span>
<span><span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">upper_adj_matrix_filepath</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ivfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_ivfns.html">make_adj_matrix_w_ivfns</a></span><span class="op">(</span><span class="va">lower_adj_matrix</span>, <span class="va">upper_adj_matrix</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level5">
<h5 id="ivfn-fcms-from-a-directory-of-adj--matrices-in-single--xlsx-files">2.2 - IVFN FCMs from a Directory of Adj. Matrices in Single .xlsx
Files<a class="anchor" aria-label="anchor" href="#ivfn-fcms-from-a-directory-of-adj--matrices-in-single--xlsx-files"></a>
</h5>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fivfn_single_dir.png" style="width:24.0%" alt="IVFN FCMs Stored in Individual .xlsx Files"><div class="figcaption">IVFN FCMs Stored in Individual .xlsx Files</div>
</div>
</div>
<p><br></p>
<p>Load the following function into the Global Environment to run the
example workflow in fewer lines of code or repetitively in a
<code>for</code> loop or using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load into Global Environment to streamline IVFN FCM imports from individual .xlsx files</span></span>
<span><span class="va">import_ivfn_fcm_from_single_xlsx</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">excel_sheets</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">lower_and_upper_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>    <span class="va">sheets</span>, </span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">sheet</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span>, sheet <span class="op">=</span> <span class="va">sheet</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">ivfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_ivfns.html">make_adj_matrix_w_ivfns</a></span><span class="op">(</span></span>
<span>    <span class="va">lower_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">lower_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">ivfn_adj_matrix</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then, call the newly-defined
<code>import_ivfn_fcm_from_single_xlsx</code> function within
<code>lapply</code> or a loop.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For multiple IVFN FCM adjacency matrices stored in separate .xlsx files stored in the</span></span>
<span><span class="co"># same directory</span></span>
<span><span class="va">filepaths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">ivfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">filepaths</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span> <span class="fu">import_ivfn_fcm_from_single_xlsx</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="ivfn-fcms-from-a-adj--matrices-in-separate--xlsx-files-stored-in-different-directories">2.3 - IVFN FCMs from a Adj. Matrices in Separate .xlsx Files Stored
in Different Directories<a class="anchor" aria-label="anchor" href="#ivfn-fcms-from-a-adj--matrices-in-separate--xlsx-files-stored-in-different-directories"></a>
</h5>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fivfn_multiple_dirs.png" style="width:26.0%" alt="IVFN FCMs stored in different files across different directories"><div class="figcaption">IVFN FCMs stored in different files across
different directories</div>
</div>
</div>
<p><br></p>
<p>Load the following function into the Global Environment to run the
example workflow in fewer lines of code or repetitively in a
<code>for</code> loop or using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load into Global Environment to streamline IVFN FCM imports from two .xlsx files</span></span>
<span><span class="va">import_ivfn_fcm_from_two_xlsx_files</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span>,</span>
<span>                                                <span class="va">upper_adj_matrix_filepath</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="co"># Use read.csv or similar for other file types</span></span>
<span>  <span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span><span class="op">)</span></span>
<span>  <span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">upper_adj_matrix_filepath</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">ivfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_ivfns.html">make_adj_matrix_w_ivfns</a></span><span class="op">(</span><span class="va">lower_adj_matrix</span>, <span class="va">upper_adj_matrix</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">ivfn_adj_matrix</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then, call the newly-defined
<code>import_ivfn_fcm_from_two_xlsx_files</code> function within
<code>lapply</code> or a loop.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For IVFN FCM adjacency matrices stored in separate .xlsx files across different directories</span></span>
<span><span class="va">directory_paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span><span class="op">)</span> <span class="co"># Note list.files shows dirs here</span></span>
<span></span>
<span><span class="va">ivfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">directory_paths</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">ivfn_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">lower_ivfn_adj_matrix_file</span> <span class="op">&lt;-</span> <span class="va">ivfn_files</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># Order as needed or by filename</span></span>
<span>    <span class="va">upper_ivfn_adj_matrix_file</span> <span class="op">&lt;-</span> <span class="va">ivfn_files</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="co"># Order as needed or by filename</span></span>
<span>    </span>
<span>    <span class="va">lower_ivfn_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="va">lower_ivfn_adj_matrix_file</span><span class="op">)</span></span>
<span>    <span class="va">upper_ivfn_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="va">upper_ivfn_adj_matrix_file</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">imported_ivfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu">import_ivfn_fcm_from_two_xlsx_files</span><span class="op">(</span></span>
<span>      <span class="va">lower_ivfn_adj_matrix_filepath</span>,</span>
<span>      <span class="va">upper_ivfn_adj_matrix_filepath</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">imported_ivfn_adj_matrices</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="tfn-fcms">3. TFN FCMs<a class="anchor" aria-label="anchor" href="#tfn-fcms"></a>
</h3>
<p>TFN FCMs are the most complicated edge weights because they are
described by three values, an upper and lower bound as well as a mode
describing the most-likely value for the edge. TFN FCMs are imported
using a similar strategy as with IVFN FCMs, just with the added mode
adjacency matrix to load.</p>
<div class="section level5">
<h5 id="using-make_adj_matrix_w_tfns">3.1 - Using <code>make_adj_matrix_w_tfns</code><a class="anchor" aria-label="anchor" href="#using-make_adj_matrix_w_tfns"></a>
</h5>
<p>TFN FCMs are constructed from three adjacency matrices, an adjacency
matrix of lower bounds, one of upper bounds, and another of modes or
most-likely values. Use <code>make_adj_matrix_w_tfns</code> to combine
the three input matrices into a TFN FCM.</p>
<div class="section level6">
<h6 id="make_adj_matrix_w_tfns-from-a-single--xlsx--file">3.1.1 - <code>make_adj_matrix_w_tfns</code> from a Single .xlsx.
File<a class="anchor" aria-label="anchor" href="#make_adj_matrix_w_tfns-from-a-single--xlsx--file"></a>
</h6>
<p>If loading an TFN FCM from a single .xlsx file, the file must contain
three sheets, one for the lower bounds adjacency matrix, one for the
upper bounds adjacency matrix, and another for the modes adjacency
matrix.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">excel_sheets</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># If lower and upper adjacency matrices are in the same .xlsx file across two different sheets</span></span>
<span><span class="va">lower_mode_and_upper_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">sheets</span>, </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">sheet</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span>, sheet <span class="op">=</span> <span class="va">sheet</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">mode_adj_matrix</span> <span class="op">&lt;-</span> <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">tfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_tfns.html">make_adj_matrix_w_tfns</a></span><span class="op">(</span><span class="va">lower_adj_matrix</span>, <span class="va">mode_adj_matrix</span>, <span class="va">upper_adj_matrix</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level6">
<h6 id="make_adj_matrix_from_tfns-from-separate--xlsx-files-in-the-same-directory">3.1.2 - <code>make_adj_matrix_from_tfns</code> from Separate .xlsx
Files in the Same Directory<a class="anchor" aria-label="anchor" href="#make_adj_matrix_from_tfns-from-separate--xlsx-files-in-the-same-directory"></a>
</h6>
<p>Use this method if loading data from separate .csv, .xml, etc., files
that by nature cannot contain multiple sheets in the same file.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If lower, mode, and upper adjacency matrices are in separate .xlsx files</span></span>
<span><span class="va">lower_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="st">"fcm_1_lower.xlsx"</span><span class="op">)</span> <span class="co"># Your filename here</span></span>
<span><span class="va">mode_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="st">"fcm_1_mode.xlsx"</span><span class="op">)</span> <span class="co"># Your filename here</span></span>
<span><span class="va">upper_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="st">"fcm_1_upper.xlsx"</span><span class="op">)</span> <span class="co"># Your filename here</span></span>
<span></span>
<span><span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span><span class="op">)</span></span>
<span><span class="va">mode_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">mode_adj_matrix_filepath</span><span class="op">)</span></span>
<span><span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">upper_adj_matrix_filepath</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_tfns.html">make_adj_matrix_w_tfns</a></span><span class="op">(</span><span class="va">lower_adj_matrix</span>, <span class="va">mode_adj_matrix</span>, <span class="va">upper_adj_matrix</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level5">
<h5 id="tfn-fcms-from-a-directory-of-adj--matrices-in-single--xlsx-files">3.2 - TFN FCMs from a Directory of Adj. Matrices in Single .xlsx
Files<a class="anchor" aria-label="anchor" href="#tfn-fcms-from-a-directory-of-adj--matrices-in-single--xlsx-files"></a>
</h5>
<div style="text-align: center;">
<div class="float">
<img src="images%2Ftfn_single_dir.png" style="width:28.0%" alt="TFN FCMs Stored in Individual .xlsx Files"><div class="figcaption">TFN FCMs Stored in Individual .xlsx Files</div>
</div>
</div>
<p><br></p>
<p>Load the following function into the Global Environment to run the
example workflow in fewer lines of code or repetitively in a
<code>for</code> loop or using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load into Global Environment to streamline TFN FCM imports from individual .xlsx files</span></span>
<span><span class="va">import_tfn_fcm_from_single_xlsx</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">sheets</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">excel_sheets</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">lower_mode_and_upper_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>    <span class="va">sheets</span>, </span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">sheet</span><span class="op">)</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">filepath</span>, sheet <span class="op">=</span> <span class="va">sheet</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="va">tfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_tfns.html">make_adj_matrix_w_tfns</a></span><span class="op">(</span></span>
<span>    <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>    <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,</span>
<span>    <span class="va">lower_mode_and_upper_adj_matrices</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">tfn_adj_matrix</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then, call the newly-defined
<code>import_tfn_fcm_from_single_xlsx</code> function within
<code>lapply</code> or a loop.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For multiple IVFN FCM adjacency matrices stored in separate .xlsx files stored in the</span></span>
<span><span class="co"># same directory</span></span>
<span><span class="va">filepaths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">tfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">filepaths</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span> <span class="fu">import_tfn_fcm_from_single_xlsx</span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="tfn-fcms-from-a-adj--matrices-in-separate--xlsx-files-stored-in-different-directories">3.3 - TFN FCMs from a Adj. Matrices in Separate .xlsx Files Stored
in Different Directories<a class="anchor" aria-label="anchor" href="#tfn-fcms-from-a-adj--matrices-in-separate--xlsx-files-stored-in-different-directories"></a>
</h5>
<div style="text-align: center;">
<div class="float">
<img src="images%2Ftfn_multiple_dirs.png" style="width:30.0%" alt="TFN FCMs stored in different files across different directories"><div class="figcaption">TFN FCMs stored in different files across
different directories</div>
</div>
</div>
<p><br></p>
<p>Load the following function into the Global Environment to run the
example workflow in fewer lines of code or repetitively in a
<code>for</code> loop or using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load into Global Environment to streamline tFN FCM imports from two .xlsx files</span></span>
<span><span class="va">import_tfn_fcm_from_two_xlsx_files</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span>,</span>
<span>                                               <span class="va">mode_adj_matrix_filepath</span>,</span>
<span>                                               <span class="va">upper_adj_matrix_filepath</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="co"># Use read.csv or similar for other file types</span></span>
<span>  <span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">lower_adj_matrix_filepath</span><span class="op">)</span></span>
<span>  <span class="va">mode_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">mode_adj_matrix_filepath</span><span class="op">)</span></span>
<span>  <span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_excel</span><span class="op">(</span><span class="va">upper_adj_matrix_filepath</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">tfn_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_adj_matrix_w_tfns.html">make_adj_matrix_w_tfns</a></span><span class="op">(</span></span>
<span>    <span class="va">lower_adj_matrix</span>, <span class="va">mode_adj_matrix</span>, <span class="va">upper_adj_matrix</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">tfn_adj_matrix</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then, call the newly-defined
<code>import_tfn_fcm_from_two_xlsx_files</code> function within
<code>lapply</code> or a loop.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For TFN FCM adjacency matrices stored in separate .xlsx files across different directories</span></span>
<span><span class="va">directory_paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span><span class="op">)</span> <span class="co"># Note list.files shows dirs here</span></span>
<span></span>
<span><span class="va">tfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>  <span class="va">directory_paths</span>,</span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">tfn_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">directory_path</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">lower_tfn_adj_matrix_file</span> <span class="op">&lt;-</span> <span class="va">tfn_files</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># Order as needed or by filename</span></span>
<span>    <span class="va">mode_tfn_adj_matrix_file</span> <span class="op">&lt;-</span> <span class="va">tfn_files</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="co"># Order as needed or by filename</span></span>
<span>    <span class="va">upper_tfn_adj_matrix_file</span> <span class="op">&lt;-</span> <span class="va">tfn_files</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span> <span class="co"># Order as needed or by filename</span></span>
<span>    </span>
<span>    <span class="va">lower_tfn_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="va">lower_tfn_adj_matrix_file</span><span class="op">)</span></span>
<span>    <span class="va">mode_tfn_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="va">mode_tfn_adj_matrix_file</span><span class="op">)</span></span>
<span>    <span class="va">upper_tfn_adj_matrix_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">directory_path</span>, <span class="va">upper_tfn_adj_matrix_file</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">imported_tfn_adj_matrices</span> <span class="op">&lt;-</span> <span class="fu">import_tfn_fcm_from_two_xlsx_files</span><span class="op">(</span></span>
<span>      <span class="va">lower_tfn_adj_matrix_filepath</span>,</span>
<span>      <span class="va">mode_tfn_adj_matrix_filepath</span>,</span>
<span>      <span class="va">upper_tfn_adj_matrix_filepath</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">imported_tfn_adj_matrices</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="interacting-with-ivfn-and-tfn-fcm-adjacency-matrix-elements">4. Interacting with IVFN and TFN FCM Adjacency Matrix Elements<a class="anchor" aria-label="anchor" href="#interacting-with-ivfn-and-tfn-fcm-adjacency-matrix-elements"></a>
</h3>
<p>Unlike an ordinary matrix of numeric values, elements adjacency
matrices made of IVFNs are technically list objects. Consider the
<code>numeric_df</code> matrix given below:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numeric_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"C1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.75</span><span class="op">)</span>, <span class="st">"C2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">numeric_df</span></span></code></pre></div>
<p>We can access elements within <code>numeric_df</code> with indexing.
For example, to get the element in the second column of the first row we
can run <code>numeric_df[1, 2]</code> or <code>numeric_df$C2[1]</code> ,
both of which would return <code>0.5</code> .</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numeric_df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span> <span class="co"># Numeric Indexing</span></span>
<span><span class="va">numeric_df</span><span class="op">$</span><span class="va">C2</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co"># Column Indexing</span></span></code></pre></div>
<p>Dataframes traditionally cannot be built from custom object classes
like the <code>ivfn</code> and <code>tfn</code> classes defined for
<code>fcmconfr</code>. However, <code>fcmconfr</code> works around this
by storing <code>ivfn</code> and <code>tfn</code> objects within lists
and then treating a dataframe of <code>ivfn</code> or <code>tfn</code>
objects as a dataframe of lists that contain <code>ivfn</code> or
<code>tfn</code> objects.</p>
<p>Since users can make <code>ivfn</code> or <code>tfn</code> adjacency
matrices by importing matrices from files, they will rarely have to
create an <code>ivfn</code> or <code>tfn</code> matrix from scratch, but
it is valuable to provide a code example of how <code>fcmconfr</code>
creates such objects.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First, create a dataframe from a n x n matrix of lists</span></span>
<span><span class="va">ivfn_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Then, place the ivfn/tfn within a list and define its location indeces</span></span>
<span><span class="co"># Note that since ivfn_df is a matrix of lists, we have to define the new ivfn object as the first element of the list at index [1, 2], hence the need for [[1]].</span></span>
<span><span class="va">ivfn_df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/ivfn.html">ivfn</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ivfn_df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/ivfn.html">ivfn</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ivfn_df</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/ivfn.html">ivfn</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ivfn_df</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/ivfn.html">ivfn</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div style="text-align: center;">
<div class="float">
<img src="images%2Fclipboard-1503284098.png" style="width:70.0%" alt="Note that the console output for ivfn_df will vary depending on whether it is loaded as a matrix or dataframe. As a dataframe it will printout the IVFN values, while as a matrix it will printout the object types, ivfn, 2 . We interact with both matrices the same way even though the console outputs are different."><div class="figcaption">Note that the console output for
<code>ivfn_df</code> will vary depending on whether it is loaded as a
matrix or dataframe. As a dataframe it will printout the IVFN values,
while as a matrix it will printout the object types,
<code>ivfn, 2</code> . We interact with both matrices the same way even
though the console outputs are different.</div>
</div>
</div>
<p><br></p>
<p>To get the <code>ivfn</code> at a particular location, then, if we
simply call <code>ivfn_df[row, col]</code> that will return a list
containing an <code>ivfn</code>. To get the <code>ivfn</code> by itself,
add <code>[[1]]</code> to indicate the first value of the list
object</p>
<div style="text-align: center;">
<p><img src="images%2Fclipboard-1371053499.png" style="width:50.0%"></p>
</div>
<p><br></p>
<p>Now, say we want to separate the IVFN adjacency matrix back to its
components of an adjacency matrix of lower bounds and another of upper
bounds. Pairing <code>apply</code> with the above indexing strategy is
an effective method here:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lower_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">ivfn_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">element</span><span class="op">)</span> <span class="va">element</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">lower</span><span class="op">)</span></span>
<span><span class="va">upper_adj_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">ivfn_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">element</span><span class="op">)</span> <span class="va">element</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">upper</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Roston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
